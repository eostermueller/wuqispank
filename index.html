<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>wuqiSpank by eostermueller</title>
    <!-- Added by ETO on 4/23/2014 -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49917038-1', 'wuqispank.org');
  ga('send', 'pageview');

</script>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>wuqiSpank</h1>
        <h2>Who needs a spanking today?</h2>
        <a href="https://github.com/eostermueller/wuqispank" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a>What is wuqiSpank?</h3>

<p>wuqiSpank is a web app that traces and visualizes your Java app&#39;s SQL/JDBC activity.
It helps you refactor/optimize your SQL/JDBC.</p>

<p></p>
<iframe width="560" height="315" src="http://www.youtube-nocookie.com/embed/mv8w5zhR1cM" frameborder="0" allowfullscreen></iframe>
<p></p>

<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>What is a wuqi?</h3>

<p>A wuqi is an <b>U</b>necessary <b>Q</b>uery <b>I</b>nvocation and can reside in any tier of your application.  wuqiSpank is fond of spanking JDBC wuqis.</p>

<h3>
<a name="rather-drive-stick" class="anchor" href="#rather-drive-stick"><span class="octicon octicon-link"></span></a>Why would I want to spank a wuqi?</h3>

<p><a href="http://apmblog.compuware.com/2010/06/15/top-10-performance-problems-taken-from-zappos-monster-and-co">Everyone knows</a> that wuqis are the number one performance problem today.  If you must know, 'spanking JDBC wuqis' means that we are optimizing JDBC code, reducing the number of round trips to the database, reducing CPU consumption and network latency.</p>
<p>
JDBC wuqis are especially nasty.  Refactoring your code's SQL takes great effort.  wupiSpank's unprecedented 'SQL Visibility' helps you plan ahead.</p>
</p>
<h3>
<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors"><span class="octicon octicon-link"></span></a>3rd Party Dependencies</h3>

<p>This project sits on the shoulders of <a href="www.jgraph.com">mxGraph/JGraph</a>, <a href="mchr3k.github.io/org.intrace/">InTrace</a>, <a href="https://foundationdb.com/">FoundationDB</a>, <a href="http://wicket.apache.org/">Wicket</a>, and others..</p>


<h3>
<a name="joins" class="anchor" href="#joins"><span class="octicon octicon-link"></span></a>Missing JOINs</h3>
<u>Best Practice</u>:  JOIN tables when appropriate to minimize the number of round trips to the database.<br/>
The graph on the left, below, shows code with 7 SQL statements, each selecting data from just a single table.
No JOINs are made, even though the data model supports joins.
The graph of the refactored code, on the right, returns the exact same data, but more efficiently with this single query:
<PRE>SELECT * FROM CUSTOMER C, ACCOUNT A WHERE C.CUST_ID = A.CUST_ID AND C.CUST_ID IN (SELECT CUST_REL_ID FROM CUST_CUST_REL
         WHERE CUST_ID = 'SPANK-001')
</PRE>
<p>
  <img src="images/uc1.png"></img>
  
</p>

<h3>
<a name="badCache" class="anchor" href="#badCache"><span class="octicon octicon-link"></span></a>Missing Caching</h3>
<u>Best Practice</u>:  Use EHCache or similar to avoid the performance overhead of querrying for static data you've already retrieved. </br>
The graph below shows SELECT statements pulling data from two tables whose contents change so rarely, their data should be cached at system startup.
Wuqispank prominently displays the table names (PHYSICAL_PLANT and PRODUCT) near the circles at the time of the graph,
so you can quickly determine whether the activity is appropriate for the give tables.
<p>
  <img src="images/uc2-bad.png"></img>

</p>


<h3>
<a name="stackTrace" class="anchor" href="#stackTrace"><span class="octicon octicon-link"></span></a>Stack Traces</h3>
Wuqispank shows the exact line number that a SQL statement was executed from.
The blue rectangle acts like the MS-Excel cursor and the large window at the bottom displays the detail you can't see in a single table cell.
<p>
  <img src="images/stackTrace.png"></img>

</p>

<h3>
<a name="pattern" class="anchor" href="#pattern"><span class="octicon octicon-link"></span></a>Patterns</h3>
Wuqispank highlights repetetive sequences of the same SQL statements.  These are ripe for optimization!
<p>         
  <img src="images/patterns_anonymous.png"></img>

</p>




		</section>

        <aside id="sidebar">
          <a href="" class="button">
            <small>Release date is <br>September 1, 2014</small>
            .zip file
          </a>

          <p class="repo-owner"><a href="https://github.com/eostermueller/wuqispank"></a> is maintained by <a href="https://github.com/eostermueller">eostermueller</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
        
      </div>
    </div>

  </body>
</html>
